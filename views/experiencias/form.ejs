<% const pageTitle = experiencia ? 'Editar Experiência' : 'Nova Experiência'; %>
<%- include('../partials/layout-start', { title: pageTitle }) %>

<div class="max-w-3xl mx-auto">
    <div class="bg-white rounded-xl shadow-sm border border-gray-200">
        <div class="p-6 border-b border-gray-200">
            <h3 class="text-lg font-semibold text-gray-800"><%= experiencia ? 'Editar' : 'Nova' %> Experiência</h3>
        </div>
        
        <form action="<%= experiencia ? '/experiencias/' + experiencia.id : '/experiencias' %>" method="POST" class="p-6 space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Empresa *</label>
                    <input type="text" name="empresa" required
                           value="<%= experiencia ? experiencia.empresa : '' %>"
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"
                           placeholder="Nome da empresa">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Cargo *</label>
                    <input type="text" name="cargo" required
                           value="<%= experiencia ? experiencia.cargo : '' %>"
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"
                           placeholder="Seu cargo">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Data de Início *</label>
                    <input type="text" name="data_inicio" required
                           value="<%= experiencia ? experiencia.data_inicio : '' %>"
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"
                           placeholder="Ex: Janeiro/2024">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Data de Término</label>
                    <input type="text" name="data_fim"
                           value="<%= experiencia ? experiencia.data_fim : '' %>"
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"
                           placeholder="Ex: Dezembro/2024 ou Atual">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Categoria</label>
                    <select name="categoria" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                        <option value="Tecnologia" <%= experiencia && experiencia.categoria === 'Tecnologia' ? 'selected' : '' %>>Tecnologia</option>
                        <option value="Administrativa" <%= experiencia && experiencia.categoria === 'Administrativa' ? 'selected' : '' %>>Administrativa</option>
                        <option value="Comercial" <%= experiencia && experiencia.categoria === 'Comercial' ? 'selected' : '' %>>Comercial</option>
                        <option value="Outras" <%= experiencia && experiencia.categoria === 'Outras' ? 'selected' : '' %>>Outras</option>
                    </select>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Tags Técnicas</label>
                    <input type="text" name="tags_tecnicas"
                           value="<%= experiencia ? experiencia.tags_tecnicas : '' %>"
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"
                           placeholder="Node.js, React, MySQL (separadas por vírgula)">
                </div>

                <div class="md:col-span-2">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Descrição das Atividades</label>
                    <textarea name="descricao_atividades" rows="5"
                              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"
                              placeholder="Descreva suas principais atividades (uma por linha)..."><%= experiencia ? experiencia.descricao_atividades : '' %></textarea>
                    <p class="text-xs text-gray-500 mt-1">Use uma linha para cada atividade.</p>
                </div>

                <div class="md:col-span-2">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Principais Conquistas</label>
                    <textarea name="principais_conquistas" rows="4"
                              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"
                              placeholder="Descreva suas principais conquistas e resultados..."><%= experiencia ? experiencia.principais_conquistas : '' %></textarea>
                    <p class="text-xs text-gray-500 mt-1">Inclua números e métricas sempre que possível.</p>
                </div>
            </div>

            <div class="flex justify-end gap-3 pt-4 border-t border-gray-200">
                <a href="/experiencias" class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition">
                    Cancelar
                </a>
                <button type="submit" class="px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition">
                    Salvar Experiência
                </button>
            </div>
        </form>
    </div>
</div>

<%- include('../partials/layout-end') %>
